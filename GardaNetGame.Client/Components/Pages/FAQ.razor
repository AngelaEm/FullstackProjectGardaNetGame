@page "/faq"
@using GardaNetGame.Shared.Entities
@inject IHttpClientFactory ClientFactory
@rendermode InteractiveServer
@inject NavigationManager NavigationManager


<div id="FAQPage" class="pt-3 text-center">
	<h1 id="FAQPageTitle" class="pb-2">FAQ</h1>
	<div class="container my-5">
		<h2 class="mb-4">Vanliga frågor</h2>
		<div class="accordion" id="faqAccordion">
			<!-- Fråga 1 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingOne">
					<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
						Hur bokar jag en plats på ett event?
					</button>
				</h2>
				<div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Gå till vår "Events"-sida, välj det event du är intresserad av och klicka på "Köp nu". Följ instruktionerna för att genomföra ett köp. När du har betalat är du bokad på eventet.
					</div>
				</div>
			</div>
			<!-- Fråga 2 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingTwo">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
						Vilka betalningsmetoder accepteras?
					</button>
				</h2>
				<div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Vi accepterar betalning med Klarna på hemsidan. I vår butik kan man även betala med kort och med swish.
					</div>
				</div>
			</div>
			<!-- Fråga 3 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingThree">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
						Kan jag returnera en köpt biljett?
					</button>
				</h2>
				<div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Biljetter till events är i regel inte återbetalningsbara. För särskilda omständigheter, kontakta oss.
					</div>
				</div>
			</div>
			<!-- Fråga 4 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingFour">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
						Vilka olika event har ni?
					</button>
				</h2>
				<div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Vi erbjuder en rad olika gaming-relaterade event, inklusive turneringar, lanseringsfester och community-kvällar. För att se våra aktuella och tidigare event, besök vår "Events"-sida på hemsidan.
					</div>
				</div>
			</div>
			<!-- Fråga 5 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingEight">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseEight" aria-expanded="false" aria-controls="collapseEight">
						Vad händer om ett event ställs in?
					</button>
				</h2>
				<div id="collapseEight" class="accordion-collapse collapse" aria-labelledby="headingEight" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Om ett event ställs in kommer vi att informera alla registrerade deltagare via e-post.
					</div>
				</div>
			</div>
			<!-- Fråga 6 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingFive">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
						Vilka spel har ni?
					</button>
				</h2>
				<div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Vi har ett stort urval av spel, inklusive de senaste titlarna för PC och konsoler samt klassiker. Gå till Games på hemsidan för att se hela vårt sortiment av spel.
					</div>
				</div>
			</div>
			<!-- Fråga 7 -->
			<div class="accordion-item">
				<h2 class="accordion-header" id="headingSix">
					<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
						Har ni andra produkter än spel?
					</button>
				</h2>
				<div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#faqAccordion">
					<div class="accordion-body">
						Ja, i vår fysiska butik erbjuder vi ett brett sortiment av gamingprodukter, inklusive gamingstolar, headset, tangentbord och mycket mer.
					</div>
				</div>
			</div>


		</div>
	</div>

	<div class="container mt-4">
		<h2>Skicka in din fråga</h2>
		<EditForm Model="@FormInput" OnSubmit="@OnSubmit" FormName="FAQform">
			<DataAnnotationsValidator />
			<div class="mb-3">
				<label for="faqUserName" class="form-label">Ditt Namn</label>
				<InputText class="form-control" id="faqUserName" @bind-Value="FormInput.UserName"></InputText>
			</div>
			<div class="mb-3">
				<label for="faqUserEmail" class="form-label">Din E-post</label>
				<InputText class="form-control" id="faqUserEmail" @bind-Value="FormInput.UserEmail"></InputText>
			</div>
			<div class="mb-3">
				<label for="faqQuestion" class="form-label">Din Fråga</label>
				<InputTextArea class="form-control" id="faqQuestion" @bind-Value="FormInput.UserQuestion"></InputTextArea>
			</div>
			<button type="submit" class="btn btn-primary">Skicka Fråga</button>

		</EditForm>


	</div>

</div>



@code {

	public FaqForm FormInput { get; set; } = new();

	private async Task OnSubmit()
    {
        Console.WriteLine("Failed to send question.");
    }

	// LogicApp doesnt work locally.
	private async Task DontSubmit()

	{
		var client = ClientFactory.CreateClient("faqLogicApp");
		var response = await client.PostAsJsonAsync("removed-connection-string", FormInput);


		if (response.IsSuccessStatusCode)
		{
			FormInput = new();
		}
		else
		{
			var errorMessage = await response.Content.ReadAsStringAsync();
			Console.WriteLine($"Failed to send question. Status code: {response.StatusCode}, Error: {errorMessage}");
		}
	}

}


